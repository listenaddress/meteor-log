<template name="NotificationsList">
  <div class="main-content">
    <h2>Notifications</h2>
    <div class="notications-panel">
      <ul class="notications-list">
        {{#each notifications}}
          <li class="notication-item {{isPrivateClass}}">
            {{#with event}}
              {{#if logId}}
                <!-- User joined a log -->
                {{#if $eq type 'member_joined_log'}}
                  {{#with user}}
                    {{#linkTo route='user'}} {{username}} {{/linkTo}}
                  {{/with}}
                  joined
                  {{#with log}}
                    {{#linkTo route='log' logId=_id}} {{name}} {{/linkTo}}
                  {{/with}}
                {{/if}}
              {{/if}}

              <!-- User tagged you in a message -->
              {{#if messageId}}
                {{#with user}}
                  {{#linkTo route='user'}} {{username}} {{/linkTo}}
                {{/with}}
                tagged you in
                {{#with log}}
                  {{#linkTo route='log' logId=_id}} {{name}} {{/linkTo}}
                {{/with}}
              {{/if}}
            {{/with}}
          </li>
        {{else}}
          <li class="notication-item empty">
            No notifications yet.
          </li>
        {{/each}}
      </ul>
    </div>
  </div>
</template>
